<h2>New Appointment</h2>
<form name="appointmentForm" ng-submit="$ctrl.submitAppointmentForm()">

  <div class="form-group">
    <label>Owner</label>
    <select class="form-control" ng-model="$ctrl.selectedOwnerId"
      ng-options="owner.id as owner.firstName + ' ' + owner.lastName for owner in $ctrl.owners"
      ng-change="$ctrl.onOwnerSelected()" required>
      <option value="">-- Select Owner --</option>
    </select>
  </div>

  <div class="form-group">
    <label>Pet</label>
    <select class="form-control" ng-model="$ctrl.selectedPetId" ng-options="pet.id as pet.name for pet in $ctrl.pets"
      ng-disabled="!$ctrl.selectedOwnerId || $ctrl.loadingPets" required>
      <option value="">-- Select Pet --</option>
    </select>
    <div ng-if="$ctrl.loadingPets">Loading pets...</div>
  </div>

  <div class="form-group">
    <label>Appointment Date</label>
    <input type="datetime-local" class="form-control" ng-model="$ctrl.appointmentDate" required />
  </div>

  <div class="form-group">
    <label>Description</label>
    <textarea class="form-control" ng-model="$ctrl.description" placeholder="Describe the appointment"></textarea>
  </div>

  <div ng-if="$ctrl.errorMessage" class="alert alert-danger">
    {{ $ctrl.errorMessage }}
  </div>

  <button type="submit" class="btn btn-primary">Create Appointment</button>
</form>